# Тестовая задача
## Оглавление
- Установка и запуск
- Использование API
## Возможности
- Создание, чтение, обновление и удаление персональных данных (CRUD)
- Работа с Reindexer
## Установка и запуск
### Через докер
1. Клонируйте репозиторий `git clone https://github.com/wsb777/involta-test.git`
2. Настройте config.yml или .env по файлам-примерам
3. Откройте терминал в директории репозитория и введите `docker compose up -d`

Теперь сервис доступен по трем портам:
- 6534 - через него происходит общение между бд и сервисом
- 9088 - UI оболочка Reindexer
- 8080 - api сервиса

### Запуск без докера
1. Клонируйте репозиторий `git clone https://github.com/wsb777/involta-test.git`
2. Скачиваете зависимости через `go mod download` (для создания проекта использовалась версия golang 1.24.2)
3. Настройте config.yml или .env по файлам-примерам (предполагается, что Reindexer у Вас уже настроен и вы вводите его конфигурацию)
4. Следующим этапом запускаем проект через `go run /cmd/main.go` или компилируем его в файл командой `go build -o involta-test /cmd/main.go` и запускаем `./involta-test` (`source ./involta-test`)

Сервис доступен по порту 8080

## Использование API

- [GET] - для получения пользователя по ID

    Если в json-структуре не будет поля ID, то вернется 400ый статус

    Пример запроса который нужно отправить:

    `{"id":1}`

- [POST] - для создания пользователя

    Пример запроса, котрый нужно отправить:

    `{ "firstName":"Ivan", "secondName":"Ivanov","middleName":"Ivanovich", "documents":[{"id":1, "name":"Справка"},{"id":2, "name":"Документ"}]}`

- [PUT] - для обновления пользователя

    Если не указан id, то вернется 400ый статус

    Пример запроса, котрый нужно отправить:

    `{"id":1, "firstName":"Ivan", "secondName":"Ivanov","middleName":"Ivanovich"}`

- [DELETE] - для удаления пользователя

    Если не указан id, то вернется 400ый статус

    Пример запроса, котрый нужно отправить:

    `{"id":1}`